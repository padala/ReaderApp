["function _01dc3460274437f0e2c84c9374e36fcec337b344",50,392698,"util.Offset\",{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=(a!=null&&!isNaN(a))?a:0;this.y=(b!=null&&!isNaN(b))?b:0;return this},copy",379971,32,"Offset(this.x,this.y",245189,45,"},toString:function(){return\"Offse",245279,61,"a.x&&this.y==a.y)},round:function(b){if(!isNaN(b)){var a=Math.pow(10,b);this.x=Math.round(this.x*a)/a;this.y=Math.round(this.y*a)/a}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}});Ext.define(\"Ext.util.Region\",{statics:{getRegion:function(a){return Ext.fly(a).getPageBox(true)},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(e,b,a,d){var c=this;c.top=e;c[1]=e;c.right=b;c.bottom=a;c.left=d;c[0]=d",308068,33,";return(b.left>=a.left&&b.right<=a.right&&b.top>=a.top&&b.bottom<=a.bottom)},intersect:function(g){var f=this,d=Math.max(f.top,g.top),e=Math.min(f.right,g.right),a=Math.min(f.bottom,g.bottom),c=Math.max(f.left,g.left);if(a>d&&e>c){return new Ext.util.Region(d,e,a,c)}else{return false}},union:function(g){var f=this,d=Math.min(f.top,g.top),e=Math.max(f.right,g.right),a=Math.max(f.bottom,g.bottom),c=Math.min(f.left,g.left);return new Ext.util.Region(d,e,a,c)},constrainTo:function(b){var a=this,c=Ext.util.Numbers.constrain;a.top=c(a.top,b.top,b.bottom);a.bottom=c(a.bottom,b.top,b.bottom);a.left=c(a.left,b.left,b.right);a.right=c(a.right,b.left,b.right);return a},adjust:function(e,b,a,d){var c=this;c.top+=e;c.left+=d;c.right+=b;c.bottom+=a;return c},getOutOfBoundOffset:function(a,b){if(!Ext.isObject(a)){if(a==\"x\"){return this.getOutOfBoundOffsetX(b)}else{return this.getOutOfBoundOffsetY(b)}}else{var c=new Ext.util.Offset();c.x=this.getOutOfBoundOffsetX(a.x);c.y=this.getOutOfBoundOffsetY(a.y);return c}},getOutOfBoundOffsetX:function(a){if(a<=this.left){return this.left-a}else{if(a>=this.right){return this.right-a}}return 0},getOutOfBoundOffsetY:function(a){if(a<=this.top){return this.top-a}else{if(a>=this.bottom){return this.bottom-a}}return 0},isOutOfBound:function(a,b){if(!Ext.isObject(a)){if(a==\"x\"){return this.isOutOfBoundX(b)}else{return this.isOutOfBoundY(b)}}else{b=a;return(this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y))}},isOutOfBoundX:function(a){return(a<this.left||a>this.right)},isOutOfBoundY:function(a){return(a<this.top||a>this.bottom)},restrict:function(b,d,a){if(Ext.isObject(b)){var c;a=d;d=b;if(d.copy){c=d.copy()}else{c={x:d.x,y:d.y}}c.x=this.restrictX(d.x,a);c.y=this.restrictY(d.y,a);return c}else{if(b==\"x\"){return this.restrictX(d,a)}else{return this.restrictY(d,a)}}},restrictX:function(b,a){if(!a){a=1}if(b<=this.left){b-=(b-this.left)*a}else{if(b>=this.right){b-=(b-this.right)*a}}return b},restrictY:function(b,a){if(!a){a=1}if(b<=this.top){b-=(b-this.top)*a}else{if(b>=this.bottom){b-=(b-this.bottom)*a}}return b",467160,39,"right-this.left,height:this.bottom-this.top}},copy",379971,32,"Region(this.top,this.right,this.bottom,this.left)},toString:function(){return\"Region[\"+this.top+\",\"+this.right+\",\"+this.bottom+\",\"+this.left+\"]\"},translateBy:function(a){this.left+=a.x;this.right+=a.x;this.top+=a.y;this.bottom+=a.y;return this},round:function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this",245304,33,"top==a.top&&this.right==a.right&&this.bottom==a.bottom&&this.left==a.left)",422224,36,392764,101971,"xt.ux.TouchCalendar",492276,37,"config:{viewModeProcessor:null,eventBarTpl:\"{title}\",eventBarCls:\"event-bar\",colourField:\"colour\",cssClassField:\"css\",eventHeight:\"duration\",eventWidth:\"auto\"",492312,45,"eventWrapperCls:\"event-wrapper\",eventBarSelectedCls:\"event-bar-selected\",cellHoverCls:\"date-cell-hover\",autoUpdateEvent:true,allowEventDragAndDrop:false,eventBarSpacing:1,eventWrapperEl:null},init:function(b){var a=this;this.calendar=b;this.calendar.eventsPlugin=thi",493163,114,"etViewMode=this.createPreSequence(this.calendar.setViewMode,this.onViewModeUpdate,this);this.calendar.onComponentResize",493286,43,"onComponentResize,this.onComponentResize,this);this.onViewModeUpdate(this.calendar.getViewMode())},onComponentResize:function(){var a=this;setTimeout(function(){a.refreshEvents()},200)},createPr",21280,65,"c.apply(a||this,arguments);var d=b.apply(this,arguments);return d}}},onViewModeUpdate:function(a){this.setViewModeProcessor(Ext.create(this.getViewModeProcessorClass(a),{calendar:this.calendar,plugin:this}))},getViewModeProcessorClass:function(a){var b=\"\";switch(a.toLowerCase()){case\"month\":b=\"Ext.ux.TouchCalendarMonthEvents\";break;case\"week\":b=\"Ext.ux.TouchCalendarWeekEvents\";break;case\"day\":b=\"Ext.ux.TouchCalendarDayEvents\";break}return b},refresh",494560,35,"getScrollable()){this.calenda",409435,32,"scrollTo(0,0)}this.removeEvents();this.getViewModeProcessor().generateEventBars();this.createEventWrapper();if(this.getAllowEventDragAndDrop()){this.createDroppableRegion()}},createDroppableRegion:function(){var b=this;var a=0},onEventDropDeactivate:function(f,a,d,c){if(a.el.hasCls(this.eventBarCls)){var b=this.getEventRecord(a.el.getAttribute(\"eventID\"));this.calendar.element.select(\"div.\"+b.internalId",494656,42,"e){e.show()},this)}},onEventDrop:function(f,a,d,c){var b=false;if(a.el.hasCls(this.eventBarCls)){this.calendar.all.each(function(e){var j=e.getPageBox(true);var k=a.el.getPageBox(true);if(j.partial(k)&&this.calendar.fireEvent(\"beforeeventdrop\",a,f,g,d)){b=true;var g=this.getEventRecord(a.el.getAttribute(\"eventID\")),h=this.calendar.getCellDate(e),i=this.getDaysDifference(g.get(this.getStartEventField()),h);if(this.getAutoUpdateEvent()){g.set(this.getStartEventField(),h);g.set(this.getEndEventField(),g.get(this.getEndEventField()).add(Date.DAY,i))}this.refreshEvents();this.calendar.fireEvent(\"eventdrop\",a,f,g,d);return}},this);this.calendar.all.removeCls(this.getCellHoverCls());if(!b){a.setOffset(a.startOffset,true)}}},onEventDragStart:function(a,f){var d=a.el.getAttribute(\"eventID\"),b=this.getEventRecord(d),c=this.getEventBarRecord(d);a.el.setWidth(a.el.getWidth()/c.get(\"BarLength\"));a.updateBoundary(true);this.calendar.element.select(\"div.\"+b.internalId",494656,42,"e){if(e.dom!==a.el.dom){e.hide()}},this);this.calendar.fireEvent(\"eventdragstart\",a,b,f)},createEventWrapper:function(){if(this.calendar.rendered&&!this.getEventWrapperEl()){this.setEventWrapperEl(Ext.DomHelper.append(this.getEventsWrapperContainer(),{tag:\"div\",cls:this.getEventWrapperCls()},true));this.getEventWrapperEl().on(\"tap\",this.onEventWrapperTap,this,{delegate:\"div.\"+this.getEventBarCls()});if(this.getViewModeProcessor().eventBarStore){this.getViewModeProcessor().renderEventBars(this.getViewModeProcessor().eventBarStore)}}else{this.calendar.on(\"painted\",this.createEventWrapper,this)}},onEventWrapperTap:function(g,f){g.stopPropagation();var d=g.getTarget(\"div.\"+this.getEventBarCls());if(d){var c=d.getAttribute(\"eventID\"),b=Ext.fly(d);if(c){var a=this.getEventRecord(c);this.deselectEvents();b.addCls(this.getEventBarSelectedCls());this.calendar.fireEvent(\"eventtap\",a,g)}}},getEventsWrapperContainer:function(){return this.calendar.element.select(\"thead th\",this.calendar.element.dom).first()||this.calendar.element.select(\"tr td\",this.calendar.element.dom).first()},getEventRecord:function(a){var b=this.calendar.eventStore.findBy(function(c){return c.internalId===a},this);return this.calendar.eventStore.getAt(b)},getEventBarRecord:function(a){var b=this.eventBarStore.findBy(function(c){return c.get(\"EventID\")===a},this);return this.eventBarStore.getAt(b)},deselectEvents:function(",494602,32,".\"+this.getEventBarSelectedCls(),this.calendar.element.dom).removeCls(this.getEventBarSelectedCls())},getDaysDifference:function(b,a){b=b.clearTime(true).getTime();a=a.clearTime(true).getTime();return(a-b)/1000/60/60/24",494552,34,"getEventWrapperEl()){this.getEventWrapperEl().dom.innerHTML=\"\";this.getEventWrapperEl().destroy();this.setEventWrapperEl(null)}if(this.eventBarStore){this.eventBarStore.remove(this.eventBarStore.getRange());this.eventBarStore=null}if(this.droppable){this.droppable=null}},applyEventBarTpl:function(a){if(Ext.isString(a)||Ext.isArray(a)){a=Ext.create(\"Ext.XTemplate\",a)}return a}});Ext.define(\"Ext.ux.CalendarEventBar",485379,53,"EventID\",type:\"string\"},{name:\"Date\",type:\"date\"},{name:\"BarLength\",type:\"int\"},{name:\"BarPosition\",type:\"int\"},{name:\"Colour\",type:\"string\"},\"Record\"],hasMany:[{model:\"Ext.ux.CalendarEventBarModel\",name:\"linked\"}]}});Ext.define(\"Ext.util.Region.partial\",{extend:Ext.util.Region,partial:function(g){var f=this,e=g.right-g.left,c=g.bottom-g.top,b=f.right-f.left,a=f.bottom-f.top,d=g.top>f.top&&g.top<f.bottom;horizontalValid=g.left>f.left&&g.left<f.right;return horizontalValid&&d",494718,98,"title",494824,98,",{name:\"css\",type:\"string\"}]}});var day=(new Date()).getDate(),month=(new Date()).getMonth(),year=(new Date()).getFullYear(",494925,74,"8.03 - 8:05\",title:\"Event Name 1\",start:new Date(year,month,day,8,3),end:new Date(year,month,day,8,5),css:\"red\"},{event:\"7:00 - 7:05\",title:\"Event Name 2\",start:new Date(year,month,day,7,0),end:new Date(year,month,day,7,5),css:\"blue\"},{event:\"7:00 - 7:10\",title:\"Event Name 3\",start:new Date(year,month,day,7,0),end:new Date(year,month,day,7,10),css:\"green\"},{event:\"7:06 - 7:15\",title:\"Event Name 4\",start:new Date(year,month,day,7,6),end:new Date(year,month,day,7,15),css:\"green\"},{event:\"19.00 - 20:30\",title:\"Event Name 5\",start:new Date(year,month,day-2,19,0),end:new Date(year,month,day-2,20,30),css:\"blue\"},{event:\"13:15 - 14:05\",title:\"Event Name 6\",start:new Date(year,month,day-11,13,15),end:new Date(year,month,day-11,14,5),css:\"blue\"},{event:\"15:00 - 16:10\",title:\"Event Name 7\",start:new Date(year,month,day+2,15,0),end:new Date(year,month,day+2,16,10),css:\"green\"},{event:\"00:00 - 00:00\",title:\"Event Name 8\",start:new Date(year,month,day+6,0,0),end:new Date(year,month,day+7,0,0),css:\"red\"",495085,964,"minDate:Ext.Date.add(new Date(),Ext.Date.DAY,-46),maxDate:Ext.Date.add(new Date(),Ext.Date.DAY,60),viewMode:\"day\",weekStart:0,store:eventStore",496048,64,"Events\",{eventHeight:\"auto\",eventBarTpl:\"<div>{event}</div><div>{title}</div>\"}",496125,8170]