["function _01dc3460274437f0e2c84c9374e36fcec337b344",50,392698,"util.Offset\",{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=(a!=null&&!isNaN(a))?a:0;this.y=(b!=null&&!isNaN(b))?b:0;return this},copy",379971,32,"Offset(this.x,this.y",245189,45,"},toString:function(){return\"Offse",245279,61,"a.x&&this.y==a.y)},round:function(b){if(!isNaN(b)){var a=Math.pow(10,b);this.x=Math.round(this.x*a)/a;this.y=Math.round(this.y*a)/a}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}});Ext.define(\"Ext.util.Region\",{statics:{getRegion:function(a){return Ext.fly(a).getPageBox(true)},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(e,b,a,d){var c=this;c.top=e;c[1]=e;c.right=b;c.bottom=a;c.left=d;c[0]=d",308068,33,";return(b.left>=a.left&&b.right<=a.right&&b.top>=a.top&&b.bottom<=a.bottom)},intersect:function(g){var f=this,d=Math.max(f.top,g.top),e=Math.min(f.right,g.right),a=Math.min(f.bottom,g.bottom),c=Math.max(f.left,g.left);if(a>d&&e>c){return new Ext.util.Region(d,e,a,c)}else{return false}},union:function(g){var f=this,d=Math.min(f.top,g.top),e=Math.max(f.right,g.right),a=Math.max(f.bottom,g.bottom),c=Math.min(f.left,g.left);return new Ext.util.Region(d,e,a,c)},constrainTo:function(b){var a=this,c=Ext.util.Numbers.constrain;a.top=c(a.top,b.top,b.bottom);a.bottom=c(a.bottom,b.top,b.bottom);a.left=c(a.left,b.left,b.right);a.right=c(a.right,b.left,b.right);return a},adjust:function(e,b,a,d){var c=this;c.top+=e;c.left+=d;c.right+=b;c.bottom+=a;return c},getOutOfBoundOffset:function(a,b){if(!Ext.isObject(a)){if(a==\"x\"){return this.getOutOfBoundOffsetX(b)}else{return this.getOutOfBoundOffsetY(b)}}else{var c=new Ext.util.Offset();c.x=this.getOutOfBoundOffsetX(a.x);c.y=this.getOutOfBoundOffsetY(a.y);return c}},getOutOfBoundOffsetX:function(a){if(a<=this.left){return this.left-a}else{if(a>=this.right){return this.right-a}}return 0},getOutOfBoundOffsetY:function(a){if(a<=this.top){return this.top-a}else{if(a>=this.bottom){return this.bottom-a}}return 0},isOutOfBound:function(a,b){if(!Ext.isObject(a)){if(a==\"x\"){return this.isOutOfBoundX(b)}else{return this.isOutOfBoundY(b)}}else{b=a;return(this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y))}},isOutOfBoundX:function(a){return(a<this.left||a>this.right)},isOutOfBoundY:function(a){return(a<this.top||a>this.bottom)},restrict:function(b,d,a){if(Ext.isObject(b)){var c;a=d;d=b;if(d.copy){c=d.copy()}else{c={x:d.x,y:d.y}}c.x=this.restrictX(d.x,a);c.y=this.restrictY(d.y,a);return c}else{if(b==\"x\"){return this.restrictX(d,a)}else{return this.restrictY(d,a)}}},restrictX:function(b,a){if(!a){a=1}if(b<=this.left){b-=(b-this.left)*a}else{if(b>=this.right){b-=(b-this.right)*a}}return b},restrictY:function(b,a){if(!a){a=1}if(b<=this.top){b-=(b-this.top)*a}else{if(b>=this.bottom){b-=(b-this.bottom)*a}}return b",467160,39,"right-this.left,height:this.bottom-this.top}},copy",379971,32,"Region(this.top,this.right,this.bottom,this.left)},toString:function(){return\"Region[\"+this.top+\",\"+this.right+\",\"+this.bottom+\",\"+this.left+\"]\"},translateBy:function(a){this.left+=a.x;this.right+=a.x;this.top+=a.y;this.bottom+=a.y;return this},round:function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this",245304,33,"top==a.top&&this.right==a.right&&this.bottom==a.bottom&&this.left==a.left)",422224,36,392764,89350,"define(\"Ext.ux.TouchCalendarView\",{extend:Ext.Container,alias:\"widget.touchcalendarview\",config:{viewMode:\"month\",weekStart:1,todayCls:\"today\",selectedItemCls:\"selected\",unselectableCls:\"unselectable\",prevMonthCls:\"prev-month\",nextMonthCls:\"next-month\",weekendCls:\"weekend\",prevPeriodCls:\"goto-prev\",nextPeriodCls:\"goto-next\",dayTimeSlotSize:30,timeSlotDateTpls:{},hideHalfHourTimeSlotLabels:true,value:null,store:null,baseTpl:['<table class=\"{[this.me.getViewMode().toLowerCase()]}\">',\"<thead>\",\"<tr>\",'<tpl for=\"this.getDaysArray(values)\">','<th class=\"{[this.getHeaderClass(xindex)]}\">','<tpl if=\"xindex === 4\">','<span>{[Ext.Date.format(this.me.currentDate, \"F\")]} {[Ext.Date.format(this.me.currentDate, \"Y\")]}</span>',\"</tpl>\",'{date:date(\"D\")}',\"</th>\",\"</tpl>\",\"</tr>\",\"</thead>\",\"<tbody>\",'<tr class=\"time-block-row\">','<tpl for=\".\">','<td class=\"time-block {[this.getClasses(values)]}\" datetime=\"{[this.me.getDateAttribute(values.date)]}\">',\"{date:this.formatDate()}\",\"</td>\",'<tpl if=\"this.isEndOfRow(xindex)\">',\"</tr>\",'<tpl if=\"!this.isEndOfPeriod(xindex)\">',\"<tr>\",\"</tpl>\",\"</tpl>\",\"</tpl>\",\"</tr>\",\"</tbody>\",\"</table>\"],cls:\"touch-calendar-view\",itemSelector:\"td.time-block\"},timeSlotDateTplsDefaults:{day:'<span class=\"hour\">{date:date(\"g\")}</span><span class=\"am-pm\">{date:date(\"A\")}</span>',month:'{date:date(\"j\")}',week:'{date:date(\"j\")}'},commonTemplateFunctions:{getTimeSlotRowCls:function(b){var c=[],a=b.getMinutes()!==0;if(a){c.push(\"half-hour\")}return c.join(\" \")},isHalfHour:function(a){return a.getMinutes()!==0},formatDate:function(a){return this.getTimeSlotDateTpl().apply({date:a})},getTimeSlotDateTpl:function(){var a=this.me.getViewMode().toLowerCase();return this.me.getTimeSlotDateTpls()[a]},getClasses:function(a){var b=[];if(a.selected){b.push(this.me.getSelectedItemCls())}if(a.unselectable){b.push(this.me.getUnselectableCls())}if(a.prevMonth){b.push(this.me.getPrevMonthCls())}if(a.nextMonth){b.push(this.me.getNextMonthCls())}if(a.weekend){b.push(this.me.getWeekendCls())}if(a.today){b.push(this.me.getTodayCls())}return b.join(\" \")},isEndOfRow:function(a){return(a%7)===0&&(a>0)},isStartOfRow:function(a){return((a-1)%7)===0&&(a-1>=0)},isEndOfPeriod:function(a){return a%this.me.periodRowDayCount===0},getDaysArray:function(a){var c=[],b;for(b=0;b<this.me.periodRowDayCount;b++){c.push(a[b])}return c},getHeaderClass:function(a){return a===1?this.me.getPrevPeriodCls():a===7?this.me.getNextPeriodCls():\"\"}},constructor:function(b){this.initModel();var a",474839,36,"\"TouchCalendarViewModel\"});this.setStore(a);b.timeSlotDateTpls=b.timeSlotDateTpls||{};Ext.applyIf(b.timeSlotDateTpls,this.timeSlotDateTplsDefaults);Ext.apply(this,b||{",467789,35,"minDate=this.minDate?Ext.Date.clearTime(this.minDate,true):null;this.maxDate=this.maxDate?Ext.Date.clearTime(this.maxDate,true):null;this.refresh()},i",318120,39,"ap:this.onTableHeaderTap,scope:this,delegate:\"th\"});this.element.on({tap:this.onTimeSlotTap,scope:this,delegate:this.getItemSelector()});this.on({painted:this.syncHeight,resize:this.onComponentResize,scope:this});this.callParent()},initModel:function(){if(!Ext.ModelManager.isRegistered(\"TouchCalendarViewModel\")){Ext.define(\"TouchCalendarViewModel\",{extend:Ext.data.Model,config:{fields:[{name:\"date\",type:\"date\"},{name:\"today\",type:\"boolean\"},{name:\"unselectable\",type:\"boolean\"},{name:\"selected\",type:\"boolean\"},{name:\"prevMonth\",type:\"boolean\"},{name:\"nextMonth\",type:\"boolean\"},{name:\"weekend\",type:\"boolean\"},\"timeSlots\"]}})}},updateViewMode:function(a,c){this.refresh();var b=this.getPeriodMinMaxDate();this.fireEvent(\"periodchange\",this,b.min.get(\"date\"),b.max.get(\"date\"),\"none\")},applyViewMode:function(b){b=b.toUpperCase();var a=Ext.ux.TouchCalendarView[b.toUpperCase()];this.getStartDate=a.getStartDate;this.getTotalDays=a.getTotalDays;this.dateAttributeFormat=a.dateAttributeFormat;this.getNextIterationDate=a.getNextIterationDate;this.getDeltaDate=a.getDeltaDate;this.periodRowDayCount=a.periodRowDayCount;Ext.apply(this.commonTemplateFunctions,{me:this});this.setTpl(new Ext.XTemplate((a.tpl||this.getBaseTpl()).join(\"\"),this.commonTemplateFunctions));this.setScrollable({direction:b.toUpperCase()===\"DAY\"?\"vertical\":false,directionLock:true});return b},collectData:function(a){var b=[];Ext.each(a,function(c,d){b.push(c.data)},this);return b},populateStore:function(){this.currentDate=this.currentDate||this.value||new Date();var d=true,e=this.currentDate,c=this.getStartDate(e),f=this.getTotalDays(e),a;this.getStore().suspendEvents();this.getStore().data.clear();for(var b=0;b<f;b++){c=this.getNextIterationDate(c,(b===0?0:1));d=(this.minDate&&c<this.minDate)||(this.maxDate&&c>this.maxDate);a=Ext.create(\"TouchCalendarViewModel\",{today:this.isSameDay(c,new Date()),unselectable:d,selected:this.isSameDay(c,this.value)&&!d,prevMonth:(c.getMonth()<e.getMonth()),nextMonth:(c.getMonth()>e.getMonth()),weekend:this.isWeekend(c),date:c});this.getStore().add(a)}this.getStore().resumeEvents()},refreshDelta:function(d){var b=this.currentDate||new Date();var a=this.getDeltaDate(b,d);if(this.isOutsideMinMax(a)){return}this.currentDate=a;this.refresh();var c=this.getPeriodMinMaxDate();this.fireEvent(\"periodchange\",this,c.min.get(\"date\"),c.max.get(\"date\"),(d>0?\"forward\":\"back\"))},getPeriodMinMaxDate:function(){return{min:this.getStore().data.first(),max:this.getStore().data.last()}},isOutsideMinMax:function(a){var b=false;if(this.getViewMode()===\"MONTH\"){b=((this.minDate&&Ext.Date.getLastDateOfMonth(a)<this.minDate)||(this.maxDate&&Ext.Date.getFirstDateOfMonth(a)>this.maxDate))}else{b=((this.minDate&&this.getWeekendDate(a)<this.minDate)||(this.maxDate&&this.getStartDate(a)>this.maxDate))}return b},onTableHeaderTap:function(b,a){a=Ext.fly(a);if(a.hasCls(this.getPrevPeriodCls())||a.hasCls(this.getNextPeriodCls())){this.refreshDelta(a.hasCls(this.getPrevPeriodCls())?-1:1)}},onTimeSlotTap:function(d){if(!d.getTarget(\".\"+this.getUnselectableCls())){var c=Ext.fly(d.getTarget());this.selectCell(c);var b=this.getCellDate(c);var a=this.getValue()||this.currentDate;if(b.getTime()!==a.getTime()){this.setValue(b);this.fireEvent(\"selectionchange\",this,b,a)}}},onComponentResize:function(a){this.syncHeight()},refresh:function(){this.populateStore();var a=this.getStore().getRange();this.setData(this.collectData(a));this.syncHeight()},syncHeight:function(){if(this.getViewMode().toUpperCase()!==\"DAY\"){var a=this.element.select(\"table\",this.element.dom).first();if(a){a.setHeight(this.element.getHeight())}}},selectCell:function(a){var b=this.getSelectedItemCls();var c=this.element.select(\".\"+b,this.element.dom);if(c){c.removeCls(b)}a.addCls(b);a.up(\"tr\").addCls(b)},getDateRecord:function(a){return this.getStore().findBy(function(b){var c=Ext.Date.clearTime(b.get(\"date\"),true).getTime();return c===Ext.Date.clearTime(a,true).getTime()},this)},getDayStartDate:function(a){return a},isSameDay:function(b,a){if(!b||!a){return false}return Ext.Date.clearTime(b,true).getTime()===Ext.Date.clearTime(a,true).getTime()},isWeekend:function(a){return a.getDay()===0||a.getDay()===6},getWeekendDate:function(b){var a=b.getDay()-this.getWeekStart();a=a<0?6:a;return new Date(b.getFullYear(),b.getMonth(),b.getDate()+0+a)},getCellDate:function(b){var a=b.dom.getAttribute(\"datetime\");return this.stringToDate(a)},getDateCell:function(a){return this.element.select('td[datetime=\"'+this.getDateAttribute(a)+'\"]',this.element.dom).first()},getDateAttribute:function(a){return Ext.Date.format(a,this.dateAttributeFormat)},getSelected:function(){var a=this.element.select(\"td.\"+this.getSelectedItemCls(),this.element.dom),b=[];a.each(function(c){b.push(this.getCellDate(c))},this);return b},stringToDate:function(a){return Ext.Date.parseDate(a,this.dateAttributeFormat)},applyTimeSlotDateTpls:function(a){Ext.Object.each(a,function(b,c){if(Ext.isString){a[b]=Ext.create(\"Ext.XTemplate\",c)}},this);return a},statics:{MONTH:{dateAttributeFormat:\"d-m-Y\",getNextIterationDate:function(b,a){return new Date(b.getFullYear(),b.getMonth(),b.getDate()+(a===0?0:1))},getTotalDays:function(a){var b=Ext.Date.getFirstDateOfMonth(a);return this.isWeekend(b)?42:35},getStartDate:function(a){return Ext.bind(Ext.ux.TouchCalendarView.WEEK.getStartDate,this)(new Date(a.getFullYear(),a.getMonth(),1))},getDeltaDate:function(b,d){var c=b.getMonth()+d,a=new Date(b.getFullYear(),c,1);a.setDate(Ext.Date.getDaysInMonth(a)<b.getDate()?Ext.Date.getDaysInMonth(a):b.getDate());return a},periodRowDayCount:7},WEEK:{dateAttributeFormat:\"d-m-Y\",getNextIterationDate:function(b,a){return new Date(b.getFullYear(),b.getMonth(),b.getDate()+(a===0?0:1))},getTotalDays:function(a){return 7},getStartDate:function(b){var a=b.getDay()-this.getWeekStart();a=a<0?6:a;return new Date(b.getFullYear(),b.getMonth(),b.getDate()-0-a)},getDeltaDate:function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(b*7))},periodRowDayCount:7},DAY:{dateAttributeFormat:\"d-m-Y H:i\",tpl:['<table class=\"{[this.me.getViewMode().toLowerCase()]}\">',\"<thead>\",\"<tr>\",'<th class=\"{[this.me.getPrevPeriodCls()]}\" style=\"display: block;\">',\"</th>\",\"<th>\",'<span>{[Ext.Date.format(values[0].date, \"D jS M Y\")]}</span>',\"</th>\",'<th class=\"{[this.me.getNextPeriodCls()]}\" style=\"display: block;\">',\"</th>\",\"</tr>\",\"</thead>\",\"<tbody>\",\"<tr>\",'<td colspan=\"3\">','<table class=\"time-slot-table\">','<tpl for=\".\">','<tr class=\"{[this.getTimeSlotRowCls(values.date)]}\">','<td class=\"label\">','<tpl if=\"!this.me.getHideHalfHourTimeSlotLabels() || !this.isHalfHour(values.date)\">',\"{date:this.formatDate()}\",\"</tpl>\",\"</td>\",'<td class=\"time-block\" colspan=\"2\" datetime=\"{[this.me.getDateAttribute(values.date)]}\">',\"</td>\",\"</tr>\",\"</tpl>\",\"</table>\",\"</td>\",\"</tr>\",\"</tbody>\",\"</table>\"],getNextIterationDate:function(b,a){var c=b.getTime()+((a===0?0:1)*(this.getDayTimeSlotSize()*60*1000));return new Date(c)},getTotalDays:function(a){return 1440/this.getDayTimeSlotSize()},getStartDate:function(a){return Ext.Date.clearTime(a,true)},getDeltaDate:function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+b)},periodRowDayCount:1}}});Ext.define(\"Ext.ux.TouchCalendarSimpleEvents\",{extend:Ext.mixin.Observable,startEventField:\"start\",endEventField:\"end\",multiEventDots:true,wrapperCls:\"simple-event-wrapper\",eventDotCls:\"simple-event\",dotWidth:6,eventTpl:['<span class=\"{wrapperCls}\">','<tpl for=\"events\">','<span class=\"{[parent.eventDotCls]}\"></span>',\"</tpl>\",\"</span>\"].join(\"\"),filterFn:function(c,e,b){if(arguments.length===2){b=e}var a=Ext.Date.clearTime(c.get(this.startEventField),true).getTime(),d=Ext.Date.clearTime(c.get(this.endEventField),true).getTime(),b=Ext.Date.clearTime(b,true).getTime();return(a<=b)&&(d>=b)},init:function(a){this.calendar=a;this.calendar.simpleEventsPlugin=this;this.wrapperCls=this.wrapperCls+(this.multiEventDots?\"-multi\":\"\");this.eventDotCls=this.eventDotCls+(this.multiEventDots?\"-multi\":\"\");this.calendar.showEvents=this.showEvents;this.calendar.hideEvents=this.hideEvents;this.calendar.removeEvents=this.removeEvents;this.calendar.refresh=Ext.Function.createSequence(this.calendar.refresh,this.refreshEvents,this);this.calendar.syncHeight=Ext.Function.createSequence(this.calendar.syncHeight,this.refreshEvents,this)},refreshEvents:function(){if(!this.disabled&&this.calendar.getViewMode()!==\"DAY\"){var a=this.calendar.getStore();if(a){this.removeEvents();a.each(function(d){var f=d.get(\"date\");var c=this.calendar.getDateCell(f);var e=this.calendar.eventStore;if(c){e.clearFilter();var b=e[this.multiEventDots?\"filterBy\":\"findBy\"](Ext.bind(this.filterFn,this,[f],true));var i=e.getRange().length;if((!this.multiEventDots&&b>-1)||(this.multiEventDots&&i>0)){var h=Math.min((c.getWidth()/this.dotWidth),i);var g=new Ext.XTemplate(this.eventTpl).append(c,{events:(this.multiEventDots?e.getRange().slice(0,h):[\"event\"]),wrapperCls:this.wrapperCls,eventDotCls:this.eventDotCls},true);g.setWidth(Math.min((this.multiEventDots?e.getRange().length:1)*this.dotWidth,c.getWidth()));g.setY((c.getY()+c.getHeight())-(g.getHeight()+(c.getHeight()*0.1)));g.setX((c.getX()+(c.getWidth()/2))-(g.getWidth()/2)+2)}}},this)}}},hideEvents:function(){this.simpleEventsPlugin.disabled=true;this.calendar.element.select(\"span.\"+this.wrapperCls,this.calendar.element.dom).hide()},showEvents:function(){this.simpleEventsPlugin.disabled=false;this.calendar.element.select(\"span.\"+this.wrapperCls,this.calendar.element.dom).show()},removeEvents:function(){if(this.calendar.element){this.calendar.element.select(\"span.\"+this.wrapperCls,this.calendar.element.dom).each(function(a){Ext.destroy(a)})}}});Ext.define(\"Ext.ux.TouchCalendarEvents\",{extend:Ext.mixin.Observable,config:{viewModeProcessor:null,eventBarTpl:\"{title}\",eventBarCls:\"event-bar\",colourField:\"colour\",cssClassField:\"css\",eventHeight:\"duration\",eventWidth:\"auto\",startEventField:\"start\",endEventField:\"end\",eventWrapperCls:\"event-wrapper\",eventBarSelectedCls:\"event-bar-selected\",cellHoverCls:\"date-cell-hover\",autoUpdateEvent:true,allowEventDragAndDrop:false,eventBarSpacing:1,eventWrapperEl:null},init:function(b){var a=this;this.calendar=b;this.calendar.eventsPlugin=this;this.calendar.refresh=Ext.Function.createSequence(this.calendar.refresh,this.refreshEvents,this);this.calendar.setViewMode=this.createPreSequence(this.calendar.setViewMode,this.onViewModeUpdate,this);this.calendar.onComponentResize=Ext.Function.createSequence(this.calendar.onComponentResize,this.onComponentResize,this);this.onViewModeUpdate(this.calendar.getViewMode())},onComponentResize:function(){var a=this;setTimeout(function(){a.refreshEvents()},200)},createPr",21280,65,"c.apply(a||this,arguments);var d=b.apply(this,arguments);return d}}},onViewModeUpdate:function(a){this.setViewModeProcessor(Ext.create(this.getViewModeProcessorClass(a),{calendar:this.calendar,plugin:this}))},getViewModeProcessorClass:function(a){var b=\"\";switch(a.toLowerCase()){case\"month\":b=\"Ext.ux.TouchCalendarMonthEvents\";break;case\"week\":b=\"Ext.ux.TouchCalendarWeekEvents\";break;case\"day\":b=\"Ext.ux.TouchCalendarDayEvents\";break}return b},refreshEvents:function(){if(this.calendar.getScrollable()){this.calenda",409435,32,"scrollTo(0,0)}this.removeEvents();this.getViewModeProcessor().generateEventBars();this.createEventWrapper();if(this.getAllowEventDragAndDrop()){this.createDroppableRegion()}},createDroppableRegion:function(){var b=this;var a=0},onEventDropDeactivate:function(f,a,d,c){if(a.el.hasCls(this.eventBarCls)){var b=this.getEventRecord(a.el.getAttribute(\"eventID\"));this.calendar.element.select(\"div.\"+b.internalId,this.calendar.element.dom).each(function(e){e.show()},this)}},onEventDrop:function(f,a,d,c){var b=false;if(a.el.hasCls(this.eventBarCls)){this.calendar.all.each(function(e){var j=e.getPageBox(true);var k=a.el.getPageBox(true);if(j.partial(k)&&this.calendar.fireEvent(\"beforeeventdrop\",a,f,g,d)){b=true;var g=this.getEventRecord(a.el.getAttribute(\"eventID\")),h=this.calendar.getCellDate(e),i=this.getDaysDifference(g.get(this.getStartEventField()),h);if(this.getAutoUpdateEvent()){g.set(this.getStartEventField(),h);g.set(this.getEndEventField(),g.get(this.getEndEventField()).add(Date.DAY,i))}this.refreshEvents();this.calendar.fireEvent(\"eventdrop\",a,f,g,d);return}},this);this.calendar.all.removeCls(this.getCellHoverCls());if(!b){a.setOffset(a.startOffset,true)}}},onEventDragStart:function(a,f){var d=a.el.getAttribute(\"eventID\"),b=this.getEventRecord(d),c=this.getEventBarRecord(d);a.el.setWidth(a.el.getWidth()/c.get(\"BarLength\"));a.updateBoundary(true);this.calendar.element.select(\"div.\"+b.internalId,this.calendar.element.dom).each(function(e){if(e.dom!==a.el.dom){e.hide()}},this);this.calendar.fireEvent(\"eventdragstart\",a,b,f)},createEventWrapper:function(){if(this.calendar.rendered&&!this.getEventWrapperEl()){this.setEventWrapperEl(Ext.DomHelper.append(this.getEventsWrapperContainer(),{tag:\"div\",cls:this.getEventWrapperCls()},true));this.getEventWrapperEl().on(\"tap\",this.onEventWrapperTap,this,{delegate:\"div.\"+this.getEventBarCls()});if(this.getViewModeProcessor().eventBarStore){this.getViewModeProcessor().renderEventBars(this.getViewModeProcessor().eventBarStore)}}else{this.calendar.on(\"painted\",this.createEventWrapper,this)}},onEventWrapperTap:function(g,f){g.stopPropagation();var d=g.getTarget(\"div.\"+this.getEventBarCls());if(d){var c=d.getAttribute(\"eventID\"),b=Ext.fly(d);if(c){var a=this.getEventRecord(c);this.deselectEvents();b.addCls(this.getEventBarSelectedCls());this.calendar.fireEvent(\"eventtap\",a,g)}}},getEventsWrapperContainer:function(){return this.calendar.element.select(\"thead th\",this.calendar.element.dom).first()||this.calendar.element.select(\"tr td\",this.calendar.element.dom).first()},getEventRecord:function(a){var b=this.calendar.eventStore.findBy(function(c){return c.internalId===a},this);return this.calendar.eventStore.getAt(b)},getEventBarRecord:function(a){var b=this.eventBarStore.findBy(function(c){return c.get(\"EventID\")===a},this);return this.eventBarStore.getAt(b)},deselectEvents:function(){this.calendar.element.select(\".\"+this.getEventBarSelectedCls(),this.calendar.element.dom).removeCls(this.getEventBarSelectedCls())},getDaysDifference:function(b,a){b=b.clearTime(true).getTime();a=a.clearTime(true).getTime();return(a-b)/1000/60/60/24},removeEvents:function(){if(this.getEventWrapperEl()){this.getEventWrapperEl().dom.innerHTML=\"\";this.getEventWrapperEl().destroy();this.setEventWrapperEl(null)}if(this.eventBarStore){this.eventBarStore.remove(this.eventBarStore.getRange());this.eventBarStore=null}if(this.droppable){this.droppable=null}},applyEventBarTpl:function(a){if(Ext.isString(a)||Ext.isArray(a)){a=Ext.create(\"Ext.XTemplate\",a)}return a}});Ext.define(\"Ext.ux.CalendarEventBarModel\",{extend:Ext.data.Model,config:{fields:[{name:\"EventID\",type:\"string\"},{name:\"Date\",type:\"date\"},{name:\"BarLength\",type:\"int\"},{name:\"BarPosition\",type:\"int\"},{name:\"Colour\",type:\"string\"},\"Record\"],hasMany:[{model:\"Ext.ux.CalendarEventBarModel\",name:\"linked\"}]}});Ext.define(\"Ext.util.Region.partial\",{extend:Ext.util.Region,partial:function(g){var f=this,e=g.right-g.left,c=g.bottom-g.top,b=f.right-f.left,a=f.bottom-f.top,d=g.top>f.top&&g.top<f.bottom;horizontalValid=g.left>f.left&&g.left<f.right;return horizontalValid&&d}});Ext.define(\"Event\",{extend:Ext.data.Model,config:",482131,45,"title",482184,98,",{name:\"css\",type:\"string\"}]}});var day=(new Date()).getDate(),month=(new Date()).getMonth(),year=(new Date()).getFullYear();var eventS",474835,40,"\"Event\",data:[{event:\"8.03 - 8:05\",title:\"Event Name 1\",start:new Date(year,month,day,8,3),end:new Date(year,month,day,8,5),css:\"red\"},{event:\"7:00 - 7:05\",title:\"Event Name 2\",start:new Date(year,month,day,7,0),end:new Date(year,month,day,7,5),css:\"blue\"},{event:\"7:00 - 7:10\",title:\"Event Name 3\",start:new Date(year,month,day,7,0),end:new Date(year,month,day,7,10),css:\"green\"},{event:\"7:06 - 7:15\",title:\"Event Name 4\",start:new Date(year,month,day,7,6),end:new Date(year,month,day,7,15),css:\"green\"},{event:\"19.00 - 20:30\",title:\"Event Name 5\",start:new Date(year,month,day-2,19,0),end:new Date(year,month,day-2,20,30),css:\"blue\"},{event:\"13:15 - 14:05\",title:\"Event Name 6\",start:new Date(year,month,day-11,13,15),end:new Date(year,month,day-11,14,5),css:\"blue\"},{event:\"15:00 - 16:10\",title:\"Event Name 7\",start:new Date(year,month,day+2,15,0),end:new Date(year,month,day+2,16,10),css:\"green\"},{event:\"00:00 - 00:00\",title:\"Event Name 8\",start:new Date(year,month,day+6,0,0),end:new Date(year,month,day+7,0,0),css:\"red\"}]",490727,38,482604,888,"touchcalendarview\",value:new Date(),minDate:Ext.Date.add(new Date(),Ext.Date.DAY,-46),maxDate:Ext.Date.add(new Date(),Ext.Date.DAY,60),viewMode:\"day\",weekStart:0,store:eventStore,eventStore:eventStore,plugins:[Ext.create(\"Ext.ux.TouchCalendarEvents\",{eventHeight:\"auto\",eventBarTpl:\"<div>{event}</div><div>{title}</div>\"})]",484352,8168]